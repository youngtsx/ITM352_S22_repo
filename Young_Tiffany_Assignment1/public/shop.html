<!DOCTYPE html>
<html>
    <!--w3schools bootstrap, my labwork, and reece nagaoka F21 :DD-->
    <script src="./products.js" type="text/javascript"></script>
    <script>
        function isStringNonNegInt(q, returnErrors = false) { 
        //this function checks if the string is a non negative integer
            errors = []; // assume no errors at first
            if (q == '') q = 0; //don't push an error if it is 0
            if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
            else {
                if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
                if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
            }
        return  (returnErrors ? errors : (errors.length == 0));
}  
        function checkQuantityTextbox(the_textbox){
            var errs = isStringNonNegInt(the_textbox.value, true);
            qty_textbox_message.innerHTML = errs.join(',');
}
let params = (new URL(document.location)).searchParams; // get the query string which has the form data
    </script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="./stylesheets/shopstyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Shop || Tiffany's Boba Shop</title>   
</head>
<body>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>                        
            </button>
          </div>
          <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li id="logotext">Tiffany's Boba Shop</li>
              <li><a href="index.html">Home</a></li>
              <li><a href="shop.html">Products</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="#"><span class="glyphicon glyphicon-user"></span> Your Account</a></li>
              <li><a href="#"><span class="glyphicon glyphicon-shopping-cart"></span> Cart</a></li>
            </ul>
          </div>
        </div>
      </nav>
<main>
    <form>
      <script>
        for (i in products){
        document.write(`
        <section class="item">
            <div class="container">    
                <div class="row">
                    <div class="col-sm-3">
                      <div class="panel panel-primary">
                      <div class="panel-heading">${products[i].item}</div>
                      <div class="panel-body"><img src="${products[i].image}" style="width:100%" class="img-responsive" alt="Image"></div>
                      <div class="panel-footer">
                        <p>${products[i].quantity_available} left in stock</p>
                        <div id="quantity${i}_error"></div>
                    </div>
                  </div>
        </section>
        `);
      }
      </script>
    </form>
</main>
</body>
<!--<footer class="container-fluid text-center">
    <p>&copy; Tiffany Young 2022</p>
    <br>
</footer>-->
</html>